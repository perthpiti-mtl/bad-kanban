# Story 1.3: Task Card Display and Static Data

## Status

Draft

## Story

**As a** user,  
**I want** to see sample task cards in the Kanban columns,  
**so that** I can understand how tasks will be presented and verify the layout works with content.

## Acceptance Criteria

1. Sample task cards displayed with title, description, and priority indicators
2. Cards use DaisyUI card components with consistent styling
3. Task cards properly sized and spaced within columns
4. Different priority levels visually distinguished (high, medium, low)
5. Cards display truncated descriptions with full text available on hover/tap
6. Sample data includes realistic task content demonstrating various use cases
7. Cards maintain readability and visual hierarchy on all screen sizes

## Tasks / Subtasks

- [ ] **Task 1: Create TaskCard Component** (AC: 1, 2, 4)
  - [ ] Create `src/lib/components/kanban/TaskCard.svelte` component
  - [ ] Implement card layout using DaisyUI card component classes
  - [ ] Add priority indicator with color-coded visual styling
  - [ ] Display title, description, and priority level with proper typography
  - [ ] Add hover/focus states for better user interaction feedback

- [ ] **Task 2: Implement Priority Visual Indicators** (AC: 4)
  - [ ] Create priority badge system with distinct colors for high/medium/low
  - [ ] Use DaisyUI badge components with semantic color classes
  - [ ] Add priority icons or visual cues following design system
  - [ ] Ensure accessibility with proper ARIA labels for priority levels

- [ ] **Task 3: Add Description Truncation and Hover Details** (AC: 5)
  - [ ] Implement text truncation for long descriptions using CSS
  - [ ] Add tooltip or popover functionality for full text display
  - [ ] Use DaisyUI tooltip components for consistent styling
  - [ ] Ensure touch-friendly interaction for mobile devices

- [ ] **Task 4: Create Sample Task Data** (AC: 1, 6)
  - [ ] Generate realistic sample tasks covering different scenarios
  - [ ] Include tasks with various priorities, lengths, and use cases
  - [ ] Create tasks that demonstrate business workflows
  - [ ] Ensure sample data follows established Task data model structure

- [ ] **Task 5: Integrate TaskCard with KanbanColumn** (AC: 3, 7)
  - [ ] Update KanbanColumn component to render TaskCard instances
  - [ ] Replace current task rendering with TaskCard components
  - [ ] Ensure proper spacing and sizing within column containers
  - [ ] Test responsive behavior across all screen sizes

## Dev Notes

### Previous Story Insights

From Story 1.2 completion:
- Three-column Kanban layout successfully established with responsive design
- KanbanBoard and KanbanColumn components created with DaisyUI integration
- Task data model already defined in `src/lib/types/index.ts` with comprehensive TypeScript interfaces
- Empty state messaging implemented and working correctly
- Accessibility features enhanced during QA review including ARIA labels and semantic HTML
- Performance optimizations added with reactive statements and completion metrics

### Component Architecture

[Source: docs/architecture/components.md#ui-component-library]

TaskCard component should follow established UI Component Library patterns:
- **Svelte component props and events**: Standard event dispatcher pattern
- **DaisyUI component integration**: Utilize card, badge, and tooltip components
- **Tailwind CSS utility classes**: Follow responsive-first design approach
- **Accessibility (ARIA) attributes**: Proper semantic markup for screen readers

Component hierarchy for this story:
```
KanbanBoard.svelte
  └── KanbanColumn.svelte
      └── TaskCard.svelte (NEW)
```

### Data Models

[Source: docs/architecture/data-models.md#task]

Complete Task interface already implemented in `src/lib/types/index.ts`:
```typescript
export interface Task {
  id: string
  title: string
  description: string
  status: TaskStatus
  priority: Priority
  dueDate: Date | null
  createdAt: Date
  updatedAt: Date
  aiGenerated: boolean
  originalPrompt: string | null
}

export type TaskStatus = 'todo' | 'in-progress' | 'done'
export type Priority = 'high' | 'medium' | 'low'
```

### File Locations

[Source: docs/architecture/unified-project-structure.md#component-organization]

Components must be created in these exact locations:
- `src/lib/components/kanban/TaskCard.svelte` - Individual task card component
- Update `src/lib/components/kanban/KanbanColumn.svelte` - Remove placeholder task rendering
- Sample data integration in main page or component as appropriate

### Svelte Component Standards

[Source: docs/architecture/coding-standards.md#svelte-component-standards]

TaskCard component must follow established patterns:
```svelte
<script lang="ts">
  // 1. Imports (external libraries first, then local)
  import { createEventDispatcher } from 'svelte'
  import type { Task } from '$lib/types'
  
  // 2. Props (with defaults where appropriate)
  export let task: Task
  export let variant: 'default' | 'compact' = 'default'
  
  // 3. Event dispatcher
  const dispatch = createEventDispatcher<{
    click: { task: Task }
    edit: { taskId: string }
  }>()
  
  // 4. Reactive statements
  $: priorityClass = getPriorityClass(task.priority)
  
  // 5. Functions
  function handleClick() {
    dispatch('click', { task })
  }
</script>
```

### DaisyUI Component Guidelines

[Source: docs/architecture/coding-standards.md#css-styling-standards]

Use these DaisyUI classes for TaskCard styling:
- **Card Structure**: `card`, `card-body`, `card-compact` for main container
- **Typography**: `card-title`, `text-base-content`, `text-sm` for content hierarchy
- **Badges**: `badge`, `badge-primary`, `badge-error` for priority indicators
- **Interactive States**: `hover:bg-base-200`, `focus:ring-2`, `cursor-pointer`
- **Responsive**: `text-sm md:text-base` for adaptive text sizing

### Priority Visual System

[Source: docs/architecture/data-models.md#task]

Priority indicators should use semantic DaisyUI colors:
- **High Priority**: `badge-error` (red) - urgent tasks requiring immediate attention
- **Medium Priority**: `badge-warning` (yellow) - standard priority tasks
- **Low Priority**: `badge-info` (blue) - nice-to-have or low urgency tasks

### Technical Constraints

[Source: docs/architecture/tech-stack.md]

- **TypeScript Strict Mode**: All components must pass TypeScript validation
- **Performance Target**: Fast rendering with efficient reactive updates
- **Browser Support**: Modern browsers (Chrome, Firefox, Safari, Edge - latest 2 versions)
- **Mobile Support**: Touch-friendly interface with proper spacing and tap targets

### Testing Requirements

[Source: docs/architecture/testing-strategy.md#frontend-tests]

Testing requirements for this story:
- **Test Location**: `tests/unit/components/kanban/TaskCard.test.ts`
- **Testing Framework**: Vitest with Svelte Testing Library
- **Test Coverage**: 
  - Component rendering with different task data
  - Priority indicator display and styling
  - Click event emission and task data passing
  - Responsive behavior testing
  - Accessibility testing for ARIA labels and keyboard navigation
  - Description truncation and tooltip functionality

Example test structure:
```typescript
import { render, fireEvent } from '@testing-library/svelte'
import TaskCard from '$lib/components/kanban/TaskCard.svelte'
import type { Task } from '$lib/types'

const mockTask: Task = {
  id: 'test-1',
  title: 'Test Task',
  description: 'Test Description',
  status: 'todo',
  priority: 'high',
  dueDate: null,
  createdAt: new Date().toISOString(),
  updatedAt: new Date().toISOString(),
  aiGenerated: false,
  originalPrompt: null
}
```

### Accessibility Requirements

[Source: docs/architecture/coding-standards.md#accessibility]

TaskCard must implement:
- **Semantic HTML**: Use `button` or proper interactive elements
- **ARIA Labels**: `aria-label` for priority indicators and interactive elements
- **Keyboard Navigation**: Support for Tab, Enter, and Escape keys
- **Screen Reader Support**: Proper text alternatives and descriptions
- **Focus Indicators**: Visible focus states for keyboard users
- **Touch Targets**: Minimum 44px touch targets for mobile accessibility

## Testing

[Source: docs/architecture/testing-strategy.md#unit-test-guidelines]

### Test File Location
- `tests/unit/components/kanban/TaskCard.test.ts` - Component unit tests
- Follow project testing structure under `tests/unit/components/`

### Test Standards
- **Test behavior, not implementation**: Focus on what the component does, not how
- **Use descriptive test names**: Clearly describe the scenario being tested  
- **Follow AAA pattern**: Arrange, Act, Assert for test structure
- **Mock external dependencies**: Isolate units under test

### Testing Frameworks and Patterns
- **Vitest**: Primary testing framework with TypeScript support
- **Svelte Testing Library**: Component testing with behavior-focused approach
- **@testing-library/jest-dom**: Additional matchers for DOM testing

### Specific Testing Requirements for This Story
- Test TaskCard rendering with different priority levels
- Test description truncation functionality
- Test click event emission with correct task data
- Test responsive styling across different viewport sizes
- Test accessibility features including ARIA labels and keyboard navigation
- Verify priority visual indicators display correctly
- Test hover/tap interactions for description details

## Change Log

| Date       | Version | Description                                               | Author             |
| ---------- | ------- | --------------------------------------------------------- | ------------------ |
| 2025-08-11 | 0.1     | Initial story creation for task card display and samples | Bob (Scrum Master) |

## Dev Agent Record

### Agent Model Used

_To be populated by development agent_

### Debug Log References

_To be populated by development agent_

### Completion Notes List

_To be populated by development agent_

### File List

_To be populated by development agent_

## QA Results

_To be populated by QA agent after implementation_